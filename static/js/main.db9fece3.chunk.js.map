{"version":3,"sources":["utils/IssuerDirectories.js","utils/qrHelpers.js","supporting-data/index.tsx","components/Validator/Validator.tsx","components/App/App.config.js","components/QrDataProvider.js","utils/verifyHelpers.js","components/HealthCardDataProvider.js","assets/error-illustration.png","assets/check-icon.png","assets/x-icon.png","assets/exclamation-red-icon.png","components/VaccineCard/styles.jsx","components/VaccineCard/iisstandards_tradename.xml","components/VaccineCard/iisstandards_cvx.xml","components/VaccineCard/iisstandards.js","components/VaccineCard/VaccineCard.js","components/QrScan/QrScan.js","assets/scan-icon.png","components/QrScanButton/QrScanButton.js","components/HealthCardDisplay/HealthCardDisplay.js","assets/exclamation-orange-icon.png","styles/theme.js","components/ThemeProvider.js","assets/mitre-logo.svg","components/Header/Header.js","components/HeroBar/HeroBar.js","assets/back-icon.png","assets/qr-code-illustration.png","components/Landing/Landing.js","assets/qr-vaccine-icon.png","components/Footer/Footer.js","components/FAQ/FAQ.js","components/StaticDisplay/StaticDisplay.js","assets/frame.png","utils/cameraHelper.js","utils/errorHelper.js","components/App/App.js","reportWebVitals.js","i18n.js","index.js"],"names":["directories","defaultIssuerDirectories","name","URL","agent","https","Agent","rejectUnauthorized","fetchIssuerDirectories","controller","a","Promise","all","map","d","directory","axios","get","httpsAgent","signal","response","error","issuers","data","participating_issuers","getIssuerDirectories","healthCardPattern","parseHealthCardQr","qrCode","test","match","groups","getPayload","jws","dataString","split","decodedPayload","Base64","toUint8Array","inflatedPayload","pako","inflateRaw","TextDecoder","decode","getPatientData","card","bundle","JSON","parse","vc","credentialSubject","fhirBundle","patient","entry","find","resource","resourceType","nameElement","text","prefix","join","given","family","suffix","trim","extractPatientName","dateOfBirth","birthDate","immunizations","filter","extractImmunizations","extractPatientData","getIssuer","iss","getIssuerDisplayName","issuer","issuerDirectories","participatingIssuers","issuerDisplayName","issObj","supportingData","ancillaryData","require","Repository","CodeService","PatientContext","PatientSource","antigenData","vcTypes","antigen","antigenSupportingData","antigenAncillaryData","getAntigenData","sort","b","localeCompare","length","every","type","index","Validator","patientBundle","valueSetMap","elmJSONs","cql","fhirhelpers","libraryID","mainELM","e","library","identifier","id","Error","repository","resolve","version","codeService","parameters","AntigenSupportingData","AntigenAncillaryData","patientSource","FHIRv400","loadBundles","expr","expressions","Run","patientContext","currentPatient","execute","config","QrDataContext","createContext","initialState","qrCodes","qrError","validationStatus","validPrimarySeries","matchingDemographicData","actions","reducer","state","action","newState","localStorage","setItem","stringify","flat","c","forEach","Array","sliceIndex","lastIndexOf","slice","charPair","String","fromCharCode","push","patientBundles","types","demographicData","payload","patientResource","patientDemographicData","givenName","familyName","existingPatientResource","fullUrl","Set","results","some","series","QrDataProvider","children","useReducer","getItem","dispatch","value","setQrCodes","resetQrCodes","setQrError","Provider","useQrDataContext","useContext","healthCardVerify","jwkURL","keySet","jose","JWK","asKeyStore","then","result","keyStore","verifier","JWS","createVerify","verify","catch","issuerVerify","fetchedDirectories","HealthCardDataContext","HealthCardDataProvider","healthCardJws","useState","setJws","status","healthCardSupported","setHealthCardSupported","verified","healthCardVerified","setHealthCardVerified","issuerVerified","setIssuerVerified","setIssuerDisplayName","useEffect","cardJws","abortController","AbortController","getCredential","isHealthCardSupported","verifyHealthCard","verifyIssuer","abort","useHealthCardDataContext","makeStyles","theme","healthCard","color","palette","primary","main","width","justifyContent","backgroundColor","common","blueGreenLight","border","borderColor","borderRadius","boxShadow","minHeight","padding","cardContent","paddingBottom","flexCol","display","flexDirection","patientData","alignItems","nameLabel","letterSpacing","whiteSpace","fontWeight","wordWrap","dateOfBirthRow","marginLeft","marginTop","dateOfBirthLabel","eyeOutline","backgroundSize","blueGreenDark","height","marginBottom","line","variant","divider","alignSelf","vaccinationRecordBox","vaccinationRecordLabel","vaccinationRecordLabelText","fontSize","vaccinationRecordList","vaccinationRecordListItem","paddingLeft","paddingRight","vaccinationRoot","dose","lineHeight","minWidth","line2","grid","gridRow","flexWrap","gridLabel","fontStyle","textAlign","gridItem","breakpoints","down","date","issSmartHealthCar","tradenames","cvx","encodeEntity","xmlString","replace","fetchCdcXml","file","Accept","parser","DOMParser","xmlDoc","parseFromString","getElementsByTagName","parseerror","textContent","fetchTradenames","tradenamesXml","prodInfos","evaluate","XPathResult","ORDERED_NODE_ITERATOR_TYPE","prodInfo","iterateNext","tn","processTradenames","fetchCvx","cvxXml","cvxDesc","processCvx","qrScan","VaccineCard","styles","useStyles","t","useTranslation","setPatientData","setTradenames","cvxCodes","setCvxCodes","showDateOfBirth","setShowDateOfBirth","handleError","useErrorHandler","getTradenames","getCvx","immunizationDisplayName","codings","coding","code","system","HealthCardVaccination","immunization","Box","className","Divider","Grid","container","item","spacing","xs","sm","Typography","component","vaccineCode","lotNumber","occurrenceDateTime","performer","actor","Card","CardContent","hidden","IconButton","onClick","List","ListItem","maxWidth","covid19Vaccination","src","xIcon","alt","style","marginRight","unverifiedText","QrScanButton","Button","size","scanIcon","root","bannerRoot","flexRow","flexCard","up","errorRoot","errorGrid","bannerError","redLight","redDark","topBannerLoading","grayLight","black","topBannerValid","greenLight","greenDark","bottomBannerValid","greenLighter","topBannerPartial","orangeLight","orangeDark","bottomBannerPartial","orangeLighter","verifiedText","shcText","secondary","mismatchDemographicDataText","HealthCardDisplay","history","useHistory","bannersUpdated","setBannersUpdated","handleScan","propertyName","pathname","TopBanner","img","Container","pt","pb","ErrorFallback","bannerErrorText","userErrorText","message","startsWith","userError","Trans","i18nKey","components","exclamationRedIcon","md","errorIllustration","rowSpacing","mt","DemographicDataError","Banners","BottomBanner","checkIcon","FallbackComponent","to","reverse","hcJws","m","Math","random","colors","white","blueGreen","grayMedium","grayDark","paletteBase","background","default","lightTheme","responsiveFontSizes","createTheme","typography","h2","fontFamily","overrides","MuiButton","label","textTransform","contained","MuiInputBase","MuiFilledInput","borderTopLeftRadius","borderTopRightRadius","input","MuiInput","formControl","MuiInputLabel","position","transform","filled","shrink","MuiTextField","ThemeProvider","StyledEngineProvider","injectFirst","header","logo","objectFit","Header","classes","verticalAlign","ml","heroBar","HeroBar","hasError","path","landing","boxqrillustration","Landing","useTheme","singleCol","useMediaQuery","BoxQrIllustration","qrIllustration","sx","Link","href","target","rel","fullWidth","values","url","footer","link","pages","Footer","React","anchorElNav","setAnchorElNav","handleCloseNavMenu","page","AppBar","Toolbar","disableGutters","flexGrow","event","currentTarget","Menu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","MenuItem","my","faq","box","FAQ","returnObjects","i","Accordion","AccordionSummary","expandIcon","question","AccordionDetails","dangerouslySetInnerHTML","__html","answer","staticDisplay","StaticDisplay","section","interpolation","escapeValue","gutterBottom","content","cameraPermission","window","cordova","platformId","plugins","iosrtc","registerGlobals","diagnostic","enableDebug","reject","getCameraAuthorizationStatus","permissionStatus","GRANTED","GRANTED_WHEN_IN_USE","DENIED_ALWAYS","RESTRICTED","requestCameraAuthorization","requestedStatus","requestedError","switchCamera","currentDeviceId","QrScanner","listCameras","cameras","nextDeviceId","camera","idx","button","cursor","maxHeight","margin","gridContainerMultiple","frame","qrScanner","zIndex","QrScan","location","useLocation","handleErrorFallback","scannedCodes","setScannedCodes","scannedData","setScannedData","cameraDeviceId","setCameraDeviceId","runningQrScanner","useRef","scannedCodesRef","useCallback","current","setCamera","videoRef","getUserMedia","navigator","mediaDevices","audio","video","deviceId","exact","facingMode","stream","getVideoTracks","getSettings","srcObject","granted","videoElement","preferredCamera","calculateScanRegion","x","y","videoWidth","videoHeight","start","hasCamera","destroy","stop","qrData","multipleChunks","chunkCount","currentChunkIndex","chunkIndex","tempScannedCodes","fill","previousQrCodes","allQrCodes","newDeviceId","disableRipple","uuidv4","muted","ref","resetErrorBoundary","clear","App","CssBaseline","from","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","bundledResources","en","translation","i18n","use","ChainedBackend","LanguageDetector","initReactI18next","init","supportedLngs","fallbackLng","debug","backend","backends","Backend","resourcesToBackend","backendOptions","loadPath","process","renderReactDom","ReactDOM","render","StrictMode","fallback","document","getElementById","addEventListener"],"mappings":"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","file":"static/js/main.db9fece3.chunk.js","sourcesContent":["import axios from 'axios';\nimport https from 'https';\n\nlet directories = null;\n\nconst defaultIssuerDirectories = [\n  {\n    name: 'VCI',\n    URL: 'https://raw.githubusercontent.com/the-commons-project/vci-directory/main/vci-issuers.json'\n  }\n];\n\nconst agent = new https.Agent({\n  rejectUnauthorized: false\n});\n\nconst fetchIssuerDirectories = async (controller) => Promise.all(\n  defaultIssuerDirectories.map(async (d) => {\n    const directory = d;\n    let response;\n    try {\n      response = await axios.get(d.URL, { httpsAgent: agent, signal: controller?.signal });\n    } catch (err) {\n      directory.error = 'Error fetching issuer directory.';\n      return directory;\n    }\n\n    directory.issuers = response.data;\n    if (!directory.issuers?.participating_issuers) {\n      directory.error = 'Incorrect issuer directory format.';\n      return directory;\n    }\n    return directory;\n  })\n);\n\nexport default function getIssuerDirectories(controller) {\n  if (!directories) {\n    directories = fetchIssuerDirectories(controller);\n  }\n\n  return directories;\n}\n","import { Base64 } from 'js-base64';\nimport pako from 'pako';\nimport getIssuerDirectories from './IssuerDirectories';\n\nconst healthCardPattern = /^shc:\\/(?<multipleChunks>(?<chunkIndex>[0-9]+)\\/(?<chunkCount>[0-9]+)\\/)?(?<payload>[0-9]+)$/;\n\nconst parseHealthCardQr = (qrCode) => {\n  if (healthCardPattern.test(qrCode)) {\n    const match = qrCode.match(healthCardPattern);\n    return match.groups;\n  }\n  return null;\n};\n\nconst getJws = (qrCodes) => qrCodes\n  .map((c) => {\n    const sliceIndex = c.lastIndexOf('/');\n    const rawPayload = c.slice(sliceIndex + 1);\n    const encodingChars = rawPayload.match(/\\d\\d/g);\n    return encodingChars.map((charPair) => String.fromCharCode(+charPair + 45)).join('');\n  })\n  .join('');\n\nconst getPayload = (jws) => {\n  const dataString = jws.split('.')[1];\n  const decodedPayload = Base64.toUint8Array(dataString);\n  const inflatedPayload = pako.inflateRaw(decodedPayload);\n  const payload = new TextDecoder().decode(inflatedPayload);\n  return payload;\n};\n\nconst extractPatientName = (patient) => {\n  const nameElement = patient.name[0];\n\n  if (nameElement.text) {\n    return nameElement.text;\n  }\n\n  const prefix = nameElement.prefix ? nameElement.prefix.join(' ') : '';\n  const given = nameElement.given ? nameElement.given.join(' ') : '';\n  const family = nameElement.family ? nameElement.family : '';\n  const suffix = nameElement.suffix ? nameElement.suffix.join(' ') : '';\n\n  const name = [prefix, given, family, suffix].join(' ');\n\n  return name.trim();\n};\n\nconst extractImmunizations = (bundle) => {\n  const immunizationResources = bundle.entry.filter((entry) => entry.resource.resourceType === 'Immunization');\n\n  return immunizationResources;\n};\n\nconst extractPatientData = (card) => {\n  const bundle = JSON.parse(card).vc.credentialSubject.fhirBundle;\n  const patient = bundle.entry.find((entry) => entry.resource.resourceType === 'Patient').resource;\n\n  const name = extractPatientName(patient);\n  const dateOfBirth = patient.birthDate;\n  const immunizations = extractImmunizations(bundle);\n  return { name, dateOfBirth, immunizations };\n};\n\nconst getPatientData = (jws) => {\n  if (!jws) {\n    return null;\n  }\n  try {\n    const decodedQr = getPayload(jws);\n    const patientData = extractPatientData(decodedQr);\n    return patientData;\n  } catch {\n    return null;\n  }\n};\n\nconst getIssuer = (jws) => {\n  const payload = JSON.parse(getPayload(jws));\n  return payload.iss;\n};\n\nconst getIssuerDisplayName = async (jws, controller) => {\n  const issuer = getIssuer(jws);\n  // use VCI directory to resolve name\n  const issuerDirectories = await getIssuerDirectories(controller);\n  const participatingIssuers = issuerDirectories[0].issuers.participating_issuers;\n  const issuerDisplayName = participatingIssuers.find((issObj) => issObj.iss === issuer).name;\n  return issuerDisplayName;\n};\n\nconst getCredential = (jws) => {\n  const payload = JSON.parse(getPayload(jws));\n  return payload.vc;\n};\n\nexport {\n  parseHealthCardQr,\n  extractImmunizations,\n  extractPatientData,\n  extractPatientName,\n  getIssuer,\n  getJws,\n  getPatientData,\n  getPayload,\n  getCredential,\n  getIssuerDisplayName\n};\n","import COVID from './AntigenSupportingData-COVID-19.json';\nimport ancillaryCOVID from './AntigenAncillaryData-COVID-19.json';\n\ninterface ISupportingData {\n  [antigen: string]: any;\n}\n\nconst supportingData = {\n  'COVID-19': COVID\n} as ISupportingData;\n\nconst ancillaryData = {\n  'COVID-19': ancillaryCOVID\n} as ISupportingData;\n\nexport { supportingData, ancillaryData };\nexport type { ISupportingData };\n","/* eslint-disable import/no-extraneous-dependencies */\nimport cql from '../../output-elm/CDSiSupportingData.json';\nimport fhirhelpers from '../../output-elm/FHIRHelpers-4.0.0.json';\nimport { supportingData, ancillaryData } from '../../supporting-data';\n\nconst { Repository, CodeService, PatientContext } = require('cql-execution');\nconst { PatientSource } = require('cql-exec-fhir');\n\ninterface IAntigenData {\n  vcTypes: string[];\n  antigen: string;\n  supportingData: any;\n  ancillaryData: any;\n}\n\nconst antigenData: IAntigenData[] = [\n  {\n    vcTypes: [\n      'https://smarthealth.cards#covid19',\n      'https://smarthealth.cards#health-card',\n      'https://smarthealth.cards#immunization'\n    ],\n    antigen: 'COVID-19',\n    supportingData: supportingData['COVID-19'].antigenSupportingData,\n    ancillaryData: ancillaryData['COVID-19'].antigenAncillaryData\n  }\n];\n\nconst getAntigenData = (vcTypes: string[]): IAntigenData | undefined => {\n  vcTypes.sort((a, b) => a.localeCompare(b));\n  return antigenData.find(\n    (antigen) =>\n      antigen.vcTypes.length === vcTypes.length && vcTypes.every((type, index) => antigen.vcTypes[index] === type)\n  );\n};\n\nexport interface IValidationResult {\n  seriesName: string;\n  validPrimarySeries: boolean;\n  evaluations: [\n    startingImmunizationIndex: number,\n    validPrimarySeries: boolean,\n    doseEvaluations: [\n      {\n        doseNumber: string;\n        doseIndex: number;\n        immunizationIndex: number;\n        immunization: any;\n        validDose: boolean;\n      }\n    ]\n  ];\n}\n\nexport interface IValidationResults {\n  results: IValidationResult[];\n}\n\nexport class Validator {\n  /**\n   *\n   * @param {Array} elmJSONs array of ELM JSON objects\n   * @param {Object} patientBundle patient record to execute against\n   * @param {Object} valueSetMap valueSetMap for CodeService\n   * * @param {Object} parameters named params\n   * @param {String} libraryID the library ID of the cql library corresponding to the ELM\n   * @returns {Object} cql-execution-results\n   */\n  public static execute(\n    patientBundle: any,\n    vcTypes: string[],\n    valueSetMap: any,\n    elmJSONs: any[] = [cql, fhirhelpers],\n    libraryID: string = 'CDSiSupportingData'\n  ): [IValidationResult] | null {\n    const mainELM = elmJSONs.find((e) => e.library.identifier.id === libraryID);\n    if (!mainELM) {\n      throw Error(`Cannot find ELM library with library id ${libraryID}`);\n    }\n    // Resolve dependencies\n    const repository = new Repository(elmJSONs);\n    const library = repository.resolve(libraryID, mainELM.library.identifier.version);\n\n    const codeService = new CodeService(valueSetMap);\n    const antigen = getAntigenData(vcTypes);\n    if (!antigen) return null;\n    const parameters = {\n      AntigenSupportingData: antigen.supportingData,\n      AntigenAncillaryData: antigen.ancillaryData\n    };\n\n    // Load array of patient bundles\n    const patientSource = new PatientSource.FHIRv400();\n    patientSource.loadBundles([patientBundle]);\n    const expr = library.expressions.Run;\n    const patientContext = new PatientContext(library, patientSource.currentPatient(), codeService, parameters);\n    return expr.execute(patientContext);\n  }\n}\n","const config = {\n  ENABLE_VALIDATION: true,\n};\nexport { config as default };\n","import React, { createContext, useContext, useReducer } from 'react';\nimport { parseHealthCardQr, getJws, getPayload } from 'utils/qrHelpers';\nimport { Validator } from 'components/Validator/Validator.tsx';\nimport config from './App/App.config';\n\nconst QrDataContext = createContext();\n\nconst initialState = {\n  qrCodes: [],\n  qrError: null,\n  jws: null,\n  validationStatus: {\n    validPrimarySeries: null,\n    error: null\n  },\n  matchingDemographicData: null\n};\n\nconst actions = {\n  SET_QR_CODES: 'SET_QR_CODES',\n  RESET_QR_CODES: 'RESET_QR_CODES',\n  SET_QR_ERROR: 'SET_QR_ERROR'\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case actions.SET_QR_CODES: {\n      const newState = {};\n      localStorage.setItem('qrCodes', JSON.stringify(action.qrCodes));\n\n      if (action.qrCodes) {\n        newState.qrCodes = action.qrCodes;\n        // check valid SHC QR\n        const validShcQr = action.qrCodes.flat().every((c) => parseHealthCardQr(c) !== null);\n        if (!validShcQr) {\n          newState.qrError = new Error('UNSUPPORTED_QR_NOT_SHC');\n          newState.jws = null;\n        } else {\n          newState.jws = [];\n          action.qrCodes.forEach((c) => {\n            // change this based on whether already or not?\n            const jws = getJws(c instanceof Array ? c : [c]);\n            newState.jws.push(jws);\n          });\n        }\n      } else newState.jws = null;\n\n      if (newState.jws) {\n        if (!config.ENABLE_VALIDATION) {\n          newState.validationStatus = null;\n        } else {\n          // Validate vaccine series\n          try {\n            const patientBundles = {\n              type: 'collection',\n              resourceType: 'Bundle',\n              entry: []\n            };\n            let types = [];\n            // store names and birth dates from patient resources for comparison\n            const demographicData = [];\n\n            newState.jws.forEach((jws) => {\n              const payload = getPayload(jws);\n              const patientBundle = JSON.parse(payload).vc.credentialSubject.fhirBundle;\n              const patientResource = patientBundle.entry.find((e) => e.resource.resourceType === 'Patient');\n\n              const patientDemographicData = {\n                // store first given name that appears in array\n                givenName: patientResource.resource.name[0].given?.join(' '),\n                familyName: patientResource.resource.name[0].family,\n                birthDate: patientResource.resource.birthDate,\n                text: patientResource.resource.name[0].text\n              };\n\n              demographicData.push(patientDemographicData);\n\n              // use one patient bundle for validation\n              const existingPatientResource = patientBundles.entry.find((e) => e.resource.resourceType === 'Patient');\n              patientBundle.entry.forEach((e) => {\n                if (\n                  (e.resource.resourceType === 'Patient' && !existingPatientResource)\n                  || e.resource.resourceType !== 'Patient'\n                ) {\n                  e.fullUrl = `resource:${patientBundles.entry.length}`;\n                  patientBundles.entry.push(e);\n                }\n              });\n              types = [...types, ...JSON.parse(payload).vc.type];\n            });\n            types = [...new Set(types)];\n            const results = Validator.execute(patientBundles, types);\n            newState.validationStatus = {\n              validPrimarySeries: results\n                ? results.some((series) => series.validPrimarySeries) : null,\n              error: null\n            };\n\n            // check that text strings match across all cards if given/family names are not provided\n            const matchingDemographicData = demographicData.every(\n              (card) => ((card.givenName === demographicData[0].givenName\n                && card.familyName === demographicData[0].familyName)\n                || (card.text === demographicData[0].text))\n                && card.birthDate === demographicData[0].birthDate\n            );\n\n            newState.matchingDemographicData = matchingDemographicData;\n          } catch {\n            newState.validationStatus = {\n              validPrimarySeries: false,\n              error: new Error('VALIDATION_ERROR')\n            };\n          }\n        }\n      }\n      return {\n        ...state,\n        ...newState\n      };\n    }\n    case actions.RESET_QR_CODES: {\n      localStorage.setItem('qrCodes', null);\n      return initialState;\n    }\n    case actions.SET_QR_ERROR: {\n      if (action.qrError) {\n        return {\n          ...state,\n          qrError: action.qrError\n        };\n      }\n      return state;\n    }\n    default:\n      return state;\n  }\n};\n\nconst QrDataProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(\n    reducer,\n    reducer(initialState, {\n      type: actions.SET_QR_CODES,\n      qrCodes: JSON.parse(localStorage.getItem('qrCodes'))\n    })\n  );\n\n  const value = {\n    qrCodes: state.qrCodes,\n    jws: state.jws,\n    qrError: state.qrError,\n    validationStatus: state.validationStatus,\n    matchingDemographicData: state.matchingDemographicData,\n    setQrCodes: (qrCodes) => {\n      dispatch({ type: actions.SET_QR_CODES, qrCodes });\n    },\n    resetQrCodes: () => {\n      dispatch({ type: actions.RESET_QR_CODES });\n    },\n    setQrError: (qrError) => {\n      dispatch({ type: actions.SET_QR_ERROR, qrError });\n    }\n  };\n\n  return <QrDataContext.Provider value={value}>{children}</QrDataContext.Provider>;\n};\n\nconst useQrDataContext = () => useContext(QrDataContext);\n\nexport { QrDataContext, QrDataProvider, useQrDataContext };\n","import axios from 'axios';\nimport jose from 'node-jose';\nimport getIssuerDirectories from './IssuerDirectories';\n\nconst healthCardVerify = async (httpsAgent, jws, iss, controller) => {\n  let response;\n  let verifier;\n\n  if (!iss || typeof iss !== 'string') {\n    throw Error('UNVERIFIED_INVALID_ISSUER');\n  }\n\n  try {\n    const jwkURL = `${iss}/.well-known/jwks.json`;\n    response = await axios.get(jwkURL, { httpsAgent, signal: controller?.signal });\n  } catch (err) {\n    // network error, incorrect URL or status!=2xx\n    throw Error('UNVERIFIED_ERROR_RETRIEVING_KEY_URL');\n  }\n\n  try {\n    const keySet = await response.data;\n    const keyStore = await jose.JWK.asKeyStore(keySet).then((result) => result);\n    verifier = jose.JWS.createVerify(keyStore);\n  } catch (err) {\n    // key format error\n    throw Error('UNVERIFIED_ISSUER_KEY_FORMAT_ERROR');\n  }\n\n  try {\n    return await verifier\n      .verify(jws)\n      .then(() => true)\n      .catch(() => false);\n  } catch (err) {\n    throw Error('UNVERIFIED_ERROR_VALIDATING_SIGNATURE');\n  }\n};\n\nconst issuerVerify = async (iss, controller) => getIssuerDirectories(controller)\n  .then((fetchedDirectories) => fetchedDirectories.some((d) => {\n    if (d.issuers && !d.error) {\n      const issName = d.issuers?.participating_issuers\n        .filter((issuer) => issuer.iss === iss)\n        .map((issuer) => issuer.name)[0];\n      if (issName) {\n        return true;\n      }\n    }\n\n    return false;\n  }))\n  .catch(() => false);\n\nexport { healthCardVerify, issuerVerify };\n","import React, {\n  createContext, useContext, useEffect, useState\n} from 'react';\nimport https from 'https';\nimport {\n  getPatientData, getIssuer, getIssuerDisplayName, getCredential\n} from 'utils/qrHelpers';\nimport { healthCardVerify, issuerVerify } from 'utils/verifyHelpers';\n\nconst HealthCardDataContext = createContext();\n\nconst HealthCardDataProvider = ({ healthCardJws, children }) => {\n  const [jws, setJws] = useState(null);\n  const [healthCardSupported, setHealthCardSupported] = useState({\n    status: null,\n    error: null\n  });\n  const [healthCardVerified, setHealthCardVerified] = useState({\n    verified: null,\n    error: null\n  });\n  const [issuerVerified, setIssuerVerified] = useState(null);\n  const [issuerDisplayName, setIssuerDisplayName] = useState(null);\n\n  useEffect(() => {\n    const isHealthCardSupported = (cardJws) => {\n      let vc;\n      try {\n        vc = getCredential(cardJws);\n        if (!vc?.credentialSubject?.fhirBundle) throw Error('Payload is missing a FHIR Bundle');\n      } catch {\n        setHealthCardSupported({\n          status: false,\n          error: new Error('UNSUPPORTED_MALFORMED_CREDENTIAL')\n        });\n        return false;\n      }\n      if (!vc.type?.some((type) => type === 'https://smarthealth.cards#health-card')) {\n        setHealthCardSupported({\n          status: false,\n          error: new Error('UNSUPPORTED_CREDENTIAL')\n        });\n        return false;\n      }\n\n      if (!vc.type.some((type) => type === 'https://smarthealth.cards#immunization')) {\n        setHealthCardSupported({\n          status: false,\n          error: new Error('UNSUPPORTED_HEALTH_CARD')\n        });\n        return false;\n      }\n\n      if (!getPatientData(cardJws)) {\n        setHealthCardSupported({\n          status: false,\n          error: new Error('UNSUPPORTED_INVALID_PROFILE_MISSING_PATIENT')\n        });\n        return false;\n      }\n\n      setHealthCardSupported({ status: true, error: null });\n      return true;\n    };\n    async function verifyHealthCard(agent, cardJws, iss, abortController) {\n      try {\n        const status = await healthCardVerify(agent, cardJws, iss, abortController);\n        setHealthCardVerified({ verified: status, error: null });\n      } catch (error) {\n        if (error.name !== 'AbortError') {\n          setHealthCardVerified({ verified: false, error });\n        }\n      }\n    }\n    async function verifyIssuer(iss, cardJws, abortController) {\n      try {\n        const status = await issuerVerify(iss, abortController);\n        setIssuerVerified(status);\n        if (status === true) {\n          getIssuerDisplayName(cardJws, abortController).then(\n            (result) => setIssuerDisplayName(result)\n          );\n        }\n      } catch (error) {\n        if (error.name !== 'AbortError') {\n          setIssuerVerified(false);\n        }\n      }\n    }\n\n    const abortController = new AbortController();\n\n    setJws(healthCardJws);\n    if (healthCardJws) {\n      // check jws\n      isHealthCardSupported(healthCardJws);\n\n      // Verify health card signature\n      const iss = getIssuer(healthCardJws);\n      const agent = new https.Agent({\n        rejectUnauthorized: false\n      });\n      verifyHealthCard(agent, healthCardJws, iss, abortController);\n\n      // Verify issuer\n      verifyIssuer(iss, healthCardJws, abortController);\n    }\n\n    return () => {\n      abortController.abort();\n    };\n  }, [healthCardJws]);\n\n  return (\n    <HealthCardDataContext.Provider\n      value={{\n        healthCardSupported,\n        healthCardVerified,\n        issuerVerified,\n        issuerDisplayName,\n        jws,\n        setJws,\n        setHealthCardSupported,\n        setHealthCardVerified,\n        setIssuerVerified\n      }}\n    >\n      {children}\n    </HealthCardDataContext.Provider>\n  );\n};\n\nconst useHealthCardDataContext = () => useContext(HealthCardDataContext);\n\nexport { HealthCardDataContext, HealthCardDataProvider, useHealthCardDataContext };\n","export default __webpack_public_path__ + \"static/media/error-illustration.9c7db9b8.png\";","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import { makeStyles } from '@mui/styles';\n\nexport default makeStyles((theme) => ({\n  healthCard: {\n    color: theme.palette.primary.main,\n    width: '100%',\n    justifyContent: 'center',\n  },\n  card: {\n    backgroundColor: theme.palette.common.blueGreenLight,\n    border: '5px solid',\n    borderColor: 'white',\n    borderRadius: '18px',\n    boxShadow: '0px 4px 8px #00000080',\n    width: '100%',\n    minHeight: '480px',\n    padding: '28px 34.5px;',\n  },\n  cardContent: {\n    padding: 0,\n    '&:last-child': {\n      paddingBottom: 0,\n    },\n  },\n  flexCol: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  patientData: {\n    alignItems: 'flex-start',\n    minHeight: '55px',\n  },\n  nameLabel: {\n    letterSpacing: '0',\n    whiteSpace: 'nowrap',\n  },\n  name: {\n    fontWeight: '700',\n    wordWrap: 'break-word',\n  },\n  dateOfBirthRow: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginLeft: '5.5px',\n    marginTop: '5px',\n  },\n  dateOfBirthLabel: {\n    letterSpacing: '0',\n    whiteSpace: 'nowrap',\n  },\n  dateOfBirth: {\n    fontWeight: '700',\n    whiteSpace: 'nowrap',\n  },\n  eyeOutline: {\n    backgroundSize: '100% 100%',\n    color: theme.palette.common.blueGreenDark,\n    height: '15px',\n    marginBottom: '9px',\n    marginLeft: '10px',\n    width: '22px',\n  },\n  line: {\n    height: '2px',\n    marginTop: '5px',\n    variant: 'middle',\n  },\n  divider: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    alignSelf: 'flex-end',\n    height: '19px',\n    width: '100%',\n  },\n  vaccinationRecordBox: {\n    alignItems: 'center',\n    marginTop: '10px',\n    minHeight: '230px',\n  },\n  vaccinationRecordLabel: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'white',\n    borderRadius: '11.5px',\n    height: '23px',\n    width: '100%',\n    padding: '1px',\n  },\n  vaccinationRecordLabelText: {\n    color: 'var(--mako)',\n    fontSize: 'var(--font-size-l2)',\n    fontWeight: '600',\n    letterSpacing: '0',\n    minHeight: '19px',\n    whiteSpace: 'nowrap',\n  },\n  vaccinationRecordList: {\n    width: '100%',\n  },\n  vaccinationRecordListItem: {\n    paddingLeft: '0px',\n    paddingRight: '0px',\n  },\n  vaccinationRoot: {\n    minHeight: '79px',\n    width: '100%',\n    marginLeft: '0px',\n  },\n  dose: {\n    color: theme.palette.common.blueGreenDark,\n    fontWeight: '800',\n    letterSpacing: '0',\n    lineHeight: '16px',\n    minHeight: '19px',\n    minWidth: '52px',\n    whiteSpace: 'nowrap',\n  },\n  line2: {\n    backgroundColor: theme.palette.common.blueGreenDark,\n    height: '2px',\n    width: '90%',\n    variant: 'middle',\n  },\n  grid: {\n    width: '100%',\n    marginLeft: '0px',\n    paddingLeft: '0px',\n    wordWrap: 'break-word',\n  },\n  gridRow: {\n    width: '100%',\n    marginLeft: '0px',\n    paddingLeft: '0px',\n    flexWrap: 'nowrap',\n  },\n  gridLabel: {\n    fontStyle: 'italic',\n    fontWeight: '300',\n    letterSpacing: '0',\n    lineHeight: '16px',\n    minHeight: '19px',\n    minWidth: '76px',\n    textAlign: 'right',\n    whiteSpace: 'nowrap',\n    marginLeft: '0px',\n  },\n  gridItem: {\n    letterSpacing: '0',\n    lineHeight: '16px',\n    minHeight: '19px',\n    paddingLeft: '2em',\n    [theme.breakpoints.down('md')]: {\n      paddingLeft: '1em',\n    },\n  },\n  date: {\n    fontWeight: '700',\n  },\n  issSmartHealthCar: {\n    alignSelf: 'flex-end',\n    letterSpacing: '0',\n    lineHeight: '16px',\n    marginLeft: '56px',\n    marginTop: '6px',\n    minHeight: '19px',\n    minWidth: '195px',\n    textAlign: 'center',\n    whiteSpace: 'nowrap',\n  },\n}));\n","export default __webpack_public_path__ + \"static/media/iisstandards_tradename.e502c412.xml\";","export default __webpack_public_path__ + \"static/media/iisstandards_cvx.01aa6a49.xml\";","import axios from 'axios';\nimport tradenamesXml from './iisstandards_tradename.xml';\nimport cvxXml from './iisstandards_cvx.xml';\n\nlet tradenames = null;\nlet cvx = null;\n\nfunction encodeEntity(xmlString) {\n  return xmlString\n    .replace(/<\\?xml.*\\?>/g, '')\n    .replace(/&(?!amp;)(?!quot;)(?!apos;)(?!lt;)(?!gt;)/g, '&amp;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&apos;');\n}\n\nasync function fetchCdcXml(file) {\n  const response = await axios.get(file, {\n    Accept: 'application/xml'\n  });\n  let data = await response.data;\n  data = encodeEntity(data);\n  const parser = new DOMParser();\n  const xmlDoc = parser.parseFromString(data, 'application/xml');\n  if (xmlDoc.getElementsByTagName('parsererror').length > 0) {\n    const parseerror = xmlDoc.getElementsByTagName('parsererror')[0].textContent;\n    throw new Error(`Error parsing XML ${file}: ${parseerror}`);\n  }\n  return xmlDoc;\n}\n\nfunction processTradenames(xmlDoc) {\n  const prodInfos = xmlDoc.evaluate(\n    '//productnames/prodInfo',\n    xmlDoc,\n    null,\n    XPathResult.ORDERED_NODE_ITERATOR_TYPE,\n    null\n  );\n  let prodInfo = prodInfos.iterateNext();\n  const tn = {};\n  while (prodInfo) {\n    if (tn[prodInfo.children[5].textContent.trim()]) {\n      tn[prodInfo.children[5].textContent.trim()] = prodInfo.children[3].textContent;\n    } else {\n      tn[prodInfo.children[5].textContent.trim()] = prodInfo.children[1].textContent;\n    }\n\n    prodInfo = prodInfos.iterateNext();\n  }\n  return tn;\n}\n\nfunction processCvx(xmlDoc) {\n  const prodInfos = xmlDoc.evaluate('//CVXCodes/CVXInfo', xmlDoc, null, XPathResult.ORDERED_NODE_ITERATOR_TYPE, null);\n  let prodInfo = prodInfos.iterateNext();\n  const cvxDesc = {};\n  while (prodInfo) {\n    cvxDesc[prodInfo.getElementsByTagName('CVXCode')[0].textContent.trim()] = prodInfo.getElementsByTagName('ShortDescription')[0].textContent;\n    prodInfo = prodInfos.iterateNext();\n  }\n  return cvxDesc;\n}\n\nfunction fetchTradenames() {\n  if (!tradenames) {\n    tradenames = fetchCdcXml(tradenamesXml).then((xmlDoc) => processTradenames(xmlDoc));\n  }\n\n  return tradenames;\n}\n\nfunction fetchCvx() {\n  if (!cvx) {\n    cvx = fetchCdcXml(cvxXml).then((xmlDoc) => processCvx(xmlDoc));\n  }\n\n  return cvx;\n}\n\nexport { fetchTradenames, fetchCvx };\n","import React, { useState, useEffect } from 'react';\nimport {\n  Box, Card, CardContent, Grid, Typography, Divider, IconButton, List, ListItem\n} from '@mui/material';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport { useHealthCardDataContext } from 'components/HealthCardDataProvider';\nimport { getPatientData } from 'utils/qrHelpers';\nimport { useTranslation } from 'react-i18next';\nimport { useErrorHandler } from 'react-error-boundary';\nimport xIcon from 'assets/x-icon.png';\nimport useStyles from './styles';\nimport { fetchTradenames, fetchCvx } from './iisstandards';\n\nconst VaccineCard = () => {\n  const styles = useStyles();\n  const { t } = useTranslation();\n  const { jws, issuerVerified, issuerDisplayName } = useHealthCardDataContext();\n  const [patientData, setPatientData] = useState({\n    name: '',\n    immunizations: []\n  });\n  const [tradenames, setTradenames] = useState({});\n  const [cvxCodes, setCvxCodes] = useState({});\n  const [showDateOfBirth, setShowDateOfBirth] = useState(false);\n  const handleError = useErrorHandler();\n\n  useEffect(() => {\n    if (jws) {\n      setPatientData(getPatientData(jws));\n    }\n  }, [jws]);\n\n  useEffect(() => {\n    async function getTradenames() {\n      try {\n        const tn = await fetchTradenames();\n        setTradenames(tn);\n      } catch (e) {\n        handleError(e);\n      }\n    }\n\n    async function getCvx() {\n      try {\n        const cvx = await fetchCvx();\n        setCvxCodes(cvx);\n      } catch (e) {\n        handleError(e);\n      }\n    }\n\n    getTradenames();\n    getCvx();\n  }, [handleError]);\n\n  const toggleShowDateOfBirth = () => {\n    setShowDateOfBirth(!showDateOfBirth);\n  };\n\n  const immunizationDisplayName = (codings) => {\n    if (codings.length === 0) return '';\n\n    const coding = codings[0];\n\n    if (!tradenames[coding.code]) {\n      if (!cvxCodes[coding.code]) {\n        return coding.system ? `${coding.system}#${coding.code}` : coding.code;\n      }\n      return cvxCodes[coding.code];\n    }\n    return tradenames[coding.code];\n  };\n\n  const HealthCardVaccination = ({ immunization }) => (\n    <Box className={[styles.flexCol, styles.vaccinationRoot].join(' ')}>\n      <Box className={styles.divider}>\n        <Divider className={styles.line2} />\n      </Box>\n      <Grid container className={styles.grid}>\n        <Grid container item className={styles.gridRow} spacing={0}>\n          <Grid item xs={3} sm={2} className={styles.gridLabel}>\n            <Typography>{t('healthcarddisplay.Vaccine')}</Typography>\n          </Grid>\n          <Grid item xs={9} sm={10} className={styles.gridItem}>\n            <Typography>\n              <Box component=\"span\" fontWeight=\"700\">\n                {immunization.vaccineCode\n                  ? immunizationDisplayName(immunization.vaccineCode.coding)\n                  : ''}\n              </Box>\n              {immunization.lotNumber && ` ${t('healthcarddisplay.Lot')} #${immunization.lotNumber}`}\n            </Typography>\n          </Grid>\n        </Grid>\n        <Grid container item className={styles.gridRow} spacing={0}>\n          <Grid item xs={3} sm={2} className={styles.gridLabel}>\n            <Typography>{t('healthcarddisplay.Date')}</Typography>\n          </Grid>\n          <Grid item xs={9} sm={10} className={styles.gridItem}>\n            <Typography className={styles.date}>\n              {immunization.occurrenceDateTime}\n            </Typography>\n          </Grid>\n        </Grid>\n        <Grid container item className={styles.gridRow} spacing={0}>\n          <Grid item xs={3} sm={2} className={styles.gridLabel}>\n            <Typography>{t('healthcarddisplay.Vaccinator')}</Typography>\n          </Grid>\n          <Grid item xs={9} sm={10} className={styles.gridItem}>\n            {immunization.performer && immunization.performer.length > 0 && (\n              <Typography>{immunization.performer[0].actor.display}</Typography>\n            )}\n          </Grid>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n\n  return (\n    <Box display=\"flex\" className={styles.healthCard}>\n      <Card display=\"flex\" className={styles.card}>\n        <CardContent className={styles.cardContent}>\n          <Box className={[styles.flexCol, styles.patientData].join(' ')}>\n            <Typography className={styles.nameLabel}>\n              {t('healthcarddisplay.NAME')}\n            </Typography>\n            <Typography className={styles.name}>{patientData.name}</Typography>\n          </Box>\n          <Box className={[styles.flexCol, styles.patientData].join(' ')}>\n            <Typography className={styles.dateOfBirthLabel}>{t('healthcarddisplay.DATE OF BIRTH')}</Typography>\n            <Box className={styles.dateOfBirthRow}>\n              <Typography className={styles.dateOfBirth} hidden={!showDateOfBirth} id=\"dateOfBirth\">\n                {patientData.dateOfBirth}\n              </Typography>\n              <Typography className={styles.dateOfBirth} hidden={showDateOfBirth}>\n                xxxx-xx-xx\n              </Typography>\n              <IconButton\n                className={styles.eyeOutline}\n                aria-label=\"toggle datofbirth visibility\"\n                onClick={toggleShowDateOfBirth}\n              >\n                <VisibilityIcon />\n              </IconButton>\n            </Box>\n          </Box>\n          <Divider className={styles.line} />\n          <Box\n            className={[styles.flexCol, styles.vaccinationRecordBox].join(' ')}\n          >\n            <Box className={styles.vaccinationRecordLabel}>\n              <Typography className={styles.vaccinationRecordLabelText}>\n                {t('healthcarddisplay.VACCINATION RECORD')}\n              </Typography>\n            </Box>\n            <List className={styles.vaccinationRecordList}>\n              {patientData.immunizations.map((item) => (\n                <div key={item.fullUrl}>\n                  <ListItem className={styles.vaccinationRecordListItem}>\n                    <HealthCardVaccination immunization={item.resource} />\n                  </ListItem>\n                </div>\n              ))}\n            </List>\n          </Box>\n          <Grid item maxWidth=\"xs\" xs={10.5} justifyContent=\"left\" alignItems=\"flex-end\">\n            <Box display=\"flex\" alignItems=\"center\" justifyContent=\"left\" flexDirection=\"row\">\n              {issuerVerified ? (\n                <Typography className={styles.covid19Vaccination}>{issuerDisplayName}</Typography>\n              ) : (\n                <>\n                  <img\n                    src={xIcon}\n                    alt=\"Bottom Banner Issuer Icon\"\n                    style={{\n                      height: '1.5rem',\n                      marginRight: '1rem'\n                    }}\n                  />\n                  <Typography variant=\"h6\" className={styles.unverifiedText}>\n                    {t('healthcarddisplay.Issuer not recognized')}\n                  </Typography>\n                </>\n              )}\n            </Box>\n          </Grid>\n        </CardContent>\n      </Card>\n    </Box>\n  );\n};\n\nexport default VaccineCard;\n","import React, {\n  useState, useRef, useEffect, useCallback\n} from 'react';\nimport {\n  Button, Grid, Box, IconButton\n} from '@mui/material';\nimport { makeStyles } from '@mui/styles';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { v4 as uuidv4 } from 'uuid';\nimport frame from 'assets/frame.png';\nimport { useQrDataContext } from 'components/QrDataProvider';\nimport { parseHealthCardQr } from 'utils/qrHelpers';\nimport { cameraPermission, switchCamera } from 'utils/cameraHelper';\nimport QrScanner from 'qr-scanner';\nimport { useErrorHandler } from 'react-error-boundary';\nimport CameraswitchIcon from '@mui/icons-material/Cameraswitch';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    '&:hover': {\n      cursor: 'default'\n    }\n  },\n  box: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    marginTop: '2em'\n  },\n  grid: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexWrap: 'nowrap',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: 'auto',\n    [theme.breakpoints.down('md')]: {\n      maxHeight: '550px',\n      maxWidth: '300px',\n      margin: '1rem'\n    },\n    [theme.breakpoints.up('md')]: {\n      maxHeight: '550px',\n      maxWidth: '650px',\n      margin: '2rem'\n    }\n  },\n  gridContainerMultiple: {\n    display: 'flex',\n    flexDirection: 'row',\n    flexGrow: 1,\n    alignItems: 'right',\n    justifyContent: 'right',\n    paddingBottom: '1rem'\n  },\n  gridItem: {\n    display: 'flex',\n    position: 'relative',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    height: '100%'\n  },\n  frame: {\n    position: 'relative',\n    [theme.breakpoints.down('md')]: {\n      maxHeight: '550px',\n      maxWidth: '300px'\n    },\n    [theme.breakpoints.up('md')]: {\n      maxHeight: '550px',\n      maxWidth: '650px'\n    },\n    objectFit: 'contain',\n    zIndex: '2'\n  },\n  qrScanner: {\n    objectFit: 'cover',\n    position: 'absolute',\n    width: '90%',\n    height: '90%',\n    zIndex: '1',\n    '& section': {\n      position: 'unset !important',\n      '& div': {\n        boxShadow: 'unset !important'\n      }\n    }\n  }\n}));\n\nlet qrScan;\n\nconst QrScan = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const classes = useStyles();\n  const handleErrorFallback = useErrorHandler();\n  const {\n    setQrCodes, resetQrCodes, setQrError, qrCodes\n  } = useQrDataContext();\n  const [scannedCodes, setScannedCodes] = useState([]);\n  const [scannedData, setScannedData] = useState('');\n  const [cameraDeviceId, setCameraDeviceId] = useState('');\n  const runningQrScanner = useRef(null);\n  const scannedCodesRef = useRef([]);\n\n  const handleError = useCallback(() => {\n    history.push('/display-results');\n  }, [history]);\n\n  const handleCameraSwitch = () => {\n    switchCamera(cameraDeviceId)\n      .then((newDeviceId) => {\n        if (newDeviceId !== null) { setCameraDeviceId(newDeviceId); }\n      })\n  };\n\n  useEffect(() => {\n    if (runningQrScanner.current) {\n      runningQrScanner.current.setCamera(cameraDeviceId);\n    }\n  }, [cameraDeviceId]);\n\n  /**\n   * Create QrScanner instance using video element and specify result/error conditions\n   * @param {*} videoElement HTML video element\n   */\n  const createQrScanner = (videoElement) => {\n    if (!videoElement) {\n      if (runningQrScanner.current) {\n        qrScan.destroy();\n      }\n      return;\n    }\n    qrScan = new QrScanner(\n      videoElement,\n      (results) => {\n        setScannedData(results.data);\n      },\n      {\n        preferredCamera: 'environment',\n        calculateScanRegion: (video) => ({\n          // define scan region for QrScanner\n          x: 0,\n          y: 0,\n          width: video.videoWidth,\n          height: video.videoHeight\n        })\n      }\n    );\n    runningQrScanner.current = qrScan;\n    qrScan.start().then(() => {\n      qrScan.hasCamera = true;\n    });\n  };\n\n  const videoRef = useRef(null);\n  // Get user media when the page first renders, and feed into createQrScanner()\n  useEffect(() => {\n    const getUserMedia = async () => {\n      try {\n        if (videoRef.current) {\n          const stream = await navigator.mediaDevices.getUserMedia(\n            cameraDeviceId !== '' ? { audio: false, video: { deviceId: { exact: cameraDeviceId } } }\n              : { audio: false, video: { facingMode: 'environment' } }\n          );\n          setCameraDeviceId(stream.getVideoTracks()[0].getSettings().deviceId);\n          videoRef.current.srcObject = stream;\n        }\n      } catch (err) {\n        throw Error(`Cannot access video: ${err.message}.`);\n      }\n    };\n\n    cameraPermission().then((granted) => {\n      if (granted) {\n        getUserMedia().then(() => {\n          createQrScanner(videoRef.current);\n        }, handleErrorFallback);\n      } else {\n        resetQrCodes();\n        setQrError(new Error('SCAN_CAMERA_UNAVAILABLE'));\n        history.push('/display-results');\n      }\n    });\n\n    return () => {\n      if (runningQrScanner.current) runningQrScanner.current.stop();\n    };\n  }, [handleErrorFallback]);\n\n  useEffect(() => {\n    const handleScan = (data) => {\n      const qrData = parseHealthCardQr(data);\n      if (qrData && qrData.multipleChunks) {\n        const chunkCount = +qrData.chunkCount;\n        const currentChunkIndex = +qrData.chunkIndex;\n        let tempScannedCodes = [...scannedCodesRef.current];\n        if (tempScannedCodes.length !== chunkCount) {\n          tempScannedCodes = new Array(chunkCount);\n          tempScannedCodes.fill(null, 0, chunkCount);\n        }\n\n        if (tempScannedCodes[currentChunkIndex - 1] === null) {\n          tempScannedCodes[currentChunkIndex - 1] = data;\n        }\n        if (tempScannedCodes.every((code) => code)) {\n          if (location.state === 'link') {\n            const previousQrCodes = qrCodes;\n            resetQrCodes();\n            // Append to running list of scanned QR codes\n            setQrCodes([...previousQrCodes, [tempScannedCodes]]);\n          } else {\n            resetQrCodes();\n            setQrCodes([tempScannedCodes]);\n          }\n          history.push('/display-results');\n        }\n        setScannedCodes(tempScannedCodes);\n        scannedCodesRef.current = tempScannedCodes;\n      } else {\n        if (qrCodes && location.state === 'link') {\n          const allQrCodes = qrCodes;\n          resetQrCodes();\n          allQrCodes.push(data);\n          setQrCodes(allQrCodes);\n        } else {\n          resetQrCodes();\n          setQrCodes([data]);\n        }\n        history.push('/display-results');\n      }\n    }\n\n    if (scannedData) {\n      try {\n        handleScan(scannedData);\n      } catch (e) {\n        handleError();\n      }\n    }\n  }, [scannedData, handleError, history, location, setQrCodes, resetQrCodes, qrCodes]);\n\n  return (\n    <Box className={classes.box}>\n      <Grid container className={classes.grid}>\n        <Grid container item flexWrap=\"nowrap\" width=\"100%\" height=\"100%\">\n          <IconButton onClick={() => handleCameraSwitch()}>\n            <CameraswitchIcon fontSize=\"large\" />\n          </IconButton>\n          {scannedCodes.length > 0 && (\n          <Grid container item className={classes.gridContainerMultiple}>\n            {scannedCodes.map((code, i) => (\n              <Button\n                className={classes.button}\n                key={code || uuidv4()}\n                variant=\"contained\"\n                color={code ? 'success' : 'error'}\n                disableRipple\n                style={{ marginRight: '0.5rem' }}\n              >\n                {`${i + 1}/${scannedCodes.length}`}\n              </Button>\n            ))}\n          </Grid>\n          )}\n        </Grid>\n        <Grid item className={classes.gridItem}>\n          <video muted id=\"test\" className={classes.qrScanner} ref={videoRef} />\n          <img alt=\"Scan Frame\" className={classes.frame} src={frame} />\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default QrScan;\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { Button, Box } from '@mui/material';\nimport scanIcon from 'assets/scan-icon.png';\nimport { useTranslation } from 'react-i18next';\n\nconst QrScanButton = ({ onClick, styles }) => {\n  const { t } = useTranslation();\n\n  return (\n    <Box item xs={12} style={styles}>\n      <Button\n        type=\"button\"\n        size=\"large\"\n        variant=\"contained\"\n        color=\"secondary\"\n        onClick={onClick}\n        style={{ fontSize: '150%', width: '100%' }}\n      >\n        <img src={scanIcon} alt=\"Scan Icon\" style={{ height: '2.5rem', marginRight: '10px' }} />\n        {t('healthcarddisplay.SCAN QR CODE')}\n      </Button>\n    </Box>\n  );\n};\n\nexport default QrScanButton;\n","import React, { useEffect, useState } from 'react';\nimport { Link, HashRouter as Router, useHistory } from 'react-router-dom';\nimport {\n  Box, Container, Grid, Typography\n} from '@mui/material';\nimport { makeStyles } from '@mui/styles';\nimport { useQrDataContext } from 'components/QrDataProvider';\nimport { useHealthCardDataContext, HealthCardDataProvider } from 'components/HealthCardDataProvider';\nimport { useTranslation, Trans } from 'react-i18next';\nimport errorIllustration from 'assets/error-illustration.png';\nimport checkIcon from 'assets/check-icon.png';\nimport xIcon from 'assets/x-icon.png';\nimport exclamationRedIcon from 'assets/exclamation-red-icon.png';\nimport exclamationOrangeIcon from 'assets/exclamation-orange-icon.png';\nimport VaccineCard from 'components/VaccineCard';\nimport QrScanButton from 'components/QrScanButton';\nimport { ErrorBoundary } from 'react-error-boundary';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    justifyContent: 'center'\n  },\n  bannerRoot: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    fontSize: { xs: '1.3rem', sm: '3rem' },\n    marginTop: '1rem',\n    marginBottom: '1rem',\n    flexWrap: 'nowrap'\n  },\n  flexRow: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'row'\n  },\n  flexCol: {\n    display: 'flex',\n    alignItems: 'baseline',\n    justifyContent: 'center',\n    flexDirection: 'column'\n  },\n  flexCard: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    padding: '1rem',\n    maxWidth: '750px',\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '650px'\n    }\n  },\n  errorRoot: {\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'nowrap',\n    [theme.breakpoints.down('md')]: {\n      flexDirection: 'column'\n    },\n    [theme.breakpoints.up('md')]: {\n      flexDirection: 'row'\n    }\n  },\n  errorGrid: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    padding: '1rem',\n    [theme.breakpoints.down('md')]: {\n      padding: '1rem'\n    },\n    [theme.breakpoints.up('md')]: {\n      padding: '2rem'\n    }\n  },\n  bannerError: {\n    backgroundColor: theme.palette.common.redLight,\n    color: theme.palette.common.redDark\n  },\n  topBannerLoading: {\n    backgroundColor: theme.palette.common.grayLight,\n    color: theme.palette.common.black\n  },\n  topBannerValid: {\n    backgroundColor: theme.palette.common.greenLight,\n    color: theme.palette.common.greenDark\n  },\n  bottomBannerValid: {\n    backgroundColor: theme.palette.common.greenLighter,\n    color: theme.palette.common.greenDark\n  },\n  topBannerPartial: {\n    backgroundColor: theme.palette.common.orangeLight,\n    color: theme.palette.common.orangeDark\n  },\n  bottomBannerPartial: {\n    backgroundColor: theme.palette.common.orangeLighter,\n    color: theme.palette.common.orangeDark\n  },\n  verifiedText: {\n    color: theme.palette.common.greenDark\n  },\n  unverifiedText: {\n    color: theme.palette.common.redDark\n  },\n  shcText: {\n    color: theme.palette.secondary.main\n  },\n  mismatchDemographicDataText: {\n    color: theme.palette.common.redDark\n  }\n}));\n\nconst HealthCardDisplay = () => {\n  const styles = useStyles();\n  const history = useHistory();\n  const { t } = useTranslation();\n  const { qrError, jws, matchingDemographicData } = useQrDataContext();\n  const [bannersUpdated, setBannersUpdated] = useState(false);\n\n  const handleScan = (propertyName) => {\n    history.push({ pathname: 'qr-scan', state: propertyName });\n  };\n\n  const TopBanner = ({\n    img, alt, style, text\n  }) => (\n    <Grid item xs={12} className={style} width=\"100%\">\n      <Container style={{ width: 'fit-content' }}>\n        <Box className={styles.flexRow} pt={2} pb={2}>\n          {img && <img src={img} alt={alt} style={{ height: '2rem', marginRight: '1rem' }} />}\n          <Typography variant=\"h4\">{text}</Typography>\n        </Box>\n      </Container>\n    </Grid>\n  );\n\n  const ErrorFallback = ({ error }) => {\n    let bannerErrorText;\n    let userErrorText;\n\n    // Set banner text and default user error text\n    if (error.message.startsWith('UNVERIFIED')) {\n      bannerErrorText = 'Not verified';\n      userErrorText = 'This SMART Health Card cannot be verified.';\n    } else if (error.message.startsWith('UNSUPPORTED')) {\n      bannerErrorText = 'Invalid SMART Health Card';\n      userErrorText = 'Only valid SMART Health Card QR codes are currently supported.';\n    } else if (error.message.startsWith('SCAN')) {\n      bannerErrorText = 'QR code scan failed';\n      userErrorText = 'Unable to scan SMART Health Card QR code.';\n    } else {\n      throw error;\n    }\n\n    // Set specific user error text\n    switch (error.message) {\n      case 'UNVERIFIED_ERROR_RETRIEVING_KEY_URL':\n        userErrorText = 'Unable to verify SMART Health Card issuer. Please check internet access and try again later.';\n        break;\n      case 'UNSUPPORTED_MALFORMED_CREDENTIAL':\n        userErrorText = 'Only valid SMART Health Card QR codes are currently supported. Please contact the issuer of your Health Card for assistance.';\n        break;\n      case 'UNSUPPORTED_HEALTH_CARD':\n        userErrorText = 'Only SMART Health Cards containing immunizations are currently supported.';\n        break;\n      case 'SCAN_CAMERA_UNAVAILABLE':\n        userErrorText = 'Camera permission is restricted or was not granted. Please check your application settings to allow camera access.';\n        break;\n      default:\n      // Do nothing.\n    }\n\n    const bannerError = t(`healthcarddisplay.${bannerErrorText}`);\n    const userError = (\n      <Trans\n        i18nKey={`healthcarddisplay.${userErrorText}`}\n        components={[<span className={styles.shcText}> SMART&reg; Health Card </span>]}\n      />\n    );\n\n    return (\n      <>\n        <Grid container className={styles.bannerRoot}>\n          <TopBanner img={exclamationRedIcon} alt=\"Banner Icon\" style={styles.bannerError} text={bannerError} />\n        </Grid>\n        <Grid container className={styles.errorRoot}>\n          <Grid item md={6} display=\"flex\" justifyContent=\"center\">\n            <img src={errorIllustration} alt=\"Error Illustration\" width=\"100%\" />\n          </Grid>\n          <Grid item container md={6} className={styles.errorGrid} rowSpacing={{ xs: '1rem', md: '2rem' }}>\n            <Grid item>\n              <Typography textAlign=\"center\" variant=\"h4\" color=\"primary.main\">\n                {userError}\n              </Typography>\n            </Grid>\n            <Grid item>\n              <QrScanButton onClick={handleScan} styles={{ width: '100%' }} mt={10} />\n            </Grid>\n          </Grid>\n        </Grid>\n      </>\n    );\n  };\n\n  const DemographicDataError = () => (\n    <Grid item xs={12} width=\"100%\">\n      <Container style={{ width: 'fit-content' }}>\n        <Box pt={1} pb={1} className={styles.flexRow}>\n          <img src={exclamationRedIcon} alt=\"Demographic Data Icon\" style={{ height: '2rem', marginRight: '1rem' }} />\n          <Box className={styles.mismatchDemographicDataText}>\n            <Trans i18nKey=\"healthcarddisplay.Name and/or date of birth are not consistent across all the scanned cards.\" />\n          </Box>\n        </Box>\n      </Container>\n    </Grid>\n  );\n\n  const Banners = () => {\n    const { healthCardSupported, healthCardVerified, issuerVerified } = useHealthCardDataContext();\n    const { validationStatus } = useQrDataContext();\n\n    useEffect(() => {\n      setBannersUpdated(false);\n      if (healthCardVerified.error) {\n        throw healthCardVerified.error;\n      } else if (healthCardSupported.error) {\n        throw healthCardSupported.error;\n      } else if (healthCardVerified.verified !== null && !healthCardVerified.verified) {\n        throw new Error('UNVERIFIED');\n      }\n\n      if (healthCardSupported.status !== null && healthCardVerified.verified !== null) {\n        // Signal that vaccine card should be displayed\n        setBannersUpdated(true);\n      }\n    }, [healthCardSupported.error,\n      healthCardSupported.status,\n      healthCardVerified.error,\n      healthCardVerified.verified]);\n\n    const BottomBanner = ({\n      img, alt, style, text\n    }) => (\n      <Box className={styles.flexRow}>\n        <img src={img} alt={alt} style={{ height: '1.5rem', marginRight: '1rem' }} />\n        <Typography variant=\"h6\" className={style}>\n          {text}\n        </Typography>\n      </Box>\n    );\n\n    return (\n      <Grid container className={styles.bannerRoot}>\n        {healthCardSupported.status !== null && healthCardVerified.verified !== null ? (\n          <>\n            {healthCardVerified.verified && issuerVerified ? (\n              <TopBanner\n                img={checkIcon}\n                alt=\"Banner Icon\"\n                style={styles.topBannerValid}\n                text={t('healthcarddisplay.Verified')}\n              />\n            ) : (\n              <TopBanner\n                img={exclamationOrangeIcon}\n                alt=\"Banner Icon\"\n                style={styles.topBannerPartial}\n                text={t('healthcarddisplay.Partially Verified')}\n              />\n            )}\n            <Grid\n              item\n              xs={12}\n              className={\n                healthCardVerified.verified && issuerVerified\n                  ? styles.bottomBannerValid : styles.bottomBannerPartial\n              }\n              style={{\n                marginBottom: '2rem',\n                display: 'flex',\n                justifyContent: 'center',\n                width: '100%'\n              }}\n            >\n              <Box pt={1} pb={1} className={styles.flexCol} width=\"fit-content\">\n                <BottomBanner\n                  img={checkIcon}\n                  alt=\"Bottom Banner Health Card Icon\"\n                  style={styles.verifiedText}\n                  text={t('healthcarddisplay.Valid SMART Health Card')}\n                />\n                {validationStatus?.validPrimarySeries != null && (\n                  <BottomBanner\n                    img={validationStatus.validPrimarySeries ? checkIcon : xIcon}\n                    alt=\"Bottom Banner Series Icon\"\n                    style={validationStatus.validPrimarySeries\n                      ? styles.verifiedText : styles.unverifiedText}\n                    text={\n                      validationStatus.validPrimarySeries\n                        ? t('healthcarddisplay.Valid vaccination series')\n                        : t('healthcarddisplay.Cannot determine vaccination status')\n                    }\n                  />\n                )}\n                <BottomBanner\n                  img={issuerVerified ? checkIcon : xIcon}\n                  alt=\"Bottom Banner Issuer Icon\"\n                  style={issuerVerified ? styles.verifiedText : styles.unverifiedText}\n                  text={\n                    issuerVerified\n                      ? t('healthcarddisplay.Issuer recognized')\n                      : t('healthcarddisplay.Issuer not recognized')\n                  }\n                />\n              </Box>\n            </Grid>\n          </>\n        ) : (\n          // Show loading banner and hide vaccine card while banners update\n          <TopBanner style={styles.topBannerLoading} text={t('healthcarddisplay.Verifying Health Card')} />\n        )}\n      </Grid>\n    );\n  };\n\n  return (\n    <Grid container className={styles.root}>\n      {qrError ? (\n        <ErrorFallback error={qrError} />\n      ) : (\n        <ErrorBoundary FallbackComponent={ErrorFallback}>\n          <HealthCardDataProvider healthCardJws={jws[jws.length - 1]}>\n            <Banners />\n          </HealthCardDataProvider>\n          {matchingDemographicData ? <></> : <DemographicDataError />}\n          <Grid item className={styles.flexCard}>\n            <Box style={{ textAlign: 'center' }}>\n              <Router>\n                <Link to=\"/qr-scan\" state=\"link\" replace onClick={() => handleScan('link')}>\n                  {t('healthcarddisplay.Add another SMART Health Card for same person')}\n                </Link>\n              </Router>\n            </Box>\n            {bannersUpdated && (\n              <>\n                {\n                  // Display cards in reverse order that they were scanned\n                  jws\n                    .slice(0)\n                    .reverse()\n                    .map((hcJws) => (\n                      <HealthCardDataProvider key={Math.random()} healthCardJws={hcJws}>\n                        <Box m={2}>\n                          <VaccineCard padding=\"1rem\" width=\"100%\" />\n                        </Box>\n                      </HealthCardDataProvider>\n                    ))\n                }\n                <QrScanButton onClick={() => handleScan('qr-button')} styles={{ padding: '1rem', width: '100%' }} />\n              </>\n            )}\n          </Grid>\n        </ErrorBoundary>\n      )}\n    </Grid>\n  );\n};\n\nexport default HealthCardDisplay;\n","export default \"data:image/png;base64,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\"","import { createTheme, responsiveFontSizes } from '@mui/material/styles';\n\n// https://material-ui.com/customization/palette/#adding-new-colors\nconst colors = {\n  white: '#fff',\n  blueGreen: '#2da39d',\n  blueGreenDark: '#227c78',\n  grayMedium: '#c2c2c2',\n  grayLight: '#eeeeee',\n  grayDark: '#323841',\n  blueGreenLight: '#f2f9f8',\n  redLight: '#f9e0e7',\n  redDark: '#cc6178',\n  greenLight: '#daf2f0',\n  greenLighter: '#f0f9f9',\n  greenDark: '#2da39d',\n  orangeLight: '#ffe7e1',\n  orangeLighter: '#fff6f4',\n  orangeDark: '#f96b45'\n};\n\nconst paletteBase = {\n  primary: {\n    main: colors.grayDark\n  },\n  secondary: {\n    main: colors.blueGreen\n  },\n  background: {\n    default: colors.white\n  },\n  common: colors\n};\n\nconst lightTheme = responsiveFontSizes(\n  createTheme({\n    palette: { ...paletteBase },\n    typography: {\n      h2: {\n        fontFamily: ['Roboto', 'sans-serif'].join(',')\n      }\n    },\n    overrides: {\n      MuiButton: {\n        root: {\n          borderRadius: '1px',\n          height: '56px'\n        },\n        label: {\n          textTransform: 'none',\n          fontSize: '24px',\n          fontWeight: 'bold'\n        },\n        contained: {\n          color: paletteBase.common.white,\n          backgroundColor: paletteBase.common.blueGreen,\n          '&$disabled': {\n            color: '#9d9d9d',\n            backgroundColor: paletteBase.common.grayMedium\n          },\n          '&:hover': {\n            backgroundColor: paletteBase.common.blueGreenDark\n          }\n        }\n      },\n      MuiInputBase: {\n        root: {\n          borderRadius: '1px',\n          backgroundColor: paletteBase.common.grayLight\n        }\n      },\n      MuiFilledInput: {\n        root: {\n          borderRadius: '1px',\n          borderTopLeftRadius: '1px',\n          borderTopRightRadius: '1px',\n          backgroundColor: paletteBase.common.grayLight\n        },\n        input: {\n          padding: '18px 12px 17px'\n        }\n      },\n      MuiInput: {\n        formControl: {\n          'label + &': {\n            marginTop: '0'\n          }\n        }\n      },\n      MuiInputLabel: {\n        root: {\n          textTransform: 'none',\n          fontWeight: 'bold',\n          marginBottom: '3px'\n        },\n        formControl: {\n          position: 'relative',\n          transform: 'none'\n        },\n        filled: {\n          '&$shrink': {\n            transform: 'none'\n          }\n        },\n        shrink: {\n          transform: 'none'\n        }\n      },\n      MuiTextField: {\n        root: {\n          marginBottom: '20px'\n        }\n      }\n    }\n  })\n);\n\nexport default lightTheme;\n","import React from 'react';\n\nimport { ThemeProvider as MuiThemeProvider, StyledEngineProvider } from '@mui/material/styles';\nimport lightTheme from 'styles/theme';\n\nconst ThemeProvider = ({ children }) => (\n  <StyledEngineProvider injectFirst>\n    <MuiThemeProvider theme={lightTheme}>{children}</MuiThemeProvider>\n  </StyledEngineProvider>\n);\n\nexport default ThemeProvider;\n","export default __webpack_public_path__ + \"static/media/mitre-logo.8e5321e7.svg\";","import React from 'react';\nimport { makeStyles } from '@mui/styles';\nimport { Box, Typography } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport logo from 'assets/mitre-logo.svg';\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    color: theme.palette.primary.main,\n    height: '6em',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  container: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    flexWrap: 'nowrap'\n  },\n  logo: {\n    objectFit: 'contain',\n    [theme.breakpoints.up('md')]: {\n      width: '120px'\n    },\n    [theme.breakpoints.down('md')]: {\n      width: '80px'\n    }\n  }\n}));\n\nconst Header = () => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  return (\n    <header className={classes.header}>\n      <Box className={classes.container} padding={{ xs: 2, md: 4 }}>\n        <Box className={classes.logo}>\n          <img\n            src={logo}\n            alt=\"Placeholder Mitre logo\"\n            style={{ width: '100%', height: '100%', verticalAlign: 'middle' }}\n          />\n        </Box>\n        <Box ml={{ xs: 2, md: 4 }}>\n          <Typography variant=\"h6\" component=\"h1\">\n            {t('header.SMART Health Card Verifier')}\n          </Typography>\n        </Box>\n      </Box>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { makeStyles } from '@mui/styles';\nimport {\n  Box, Container, IconButton, Typography\n} from '@mui/material';\nimport { Route, useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport backIcon from 'assets/back-icon.png';\n\nconst useStyles = makeStyles((theme) => ({\n  heroBar: {\n    color: theme.palette.primary.main,\n    backgroundColor: theme.palette.common.grayLight,\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'row',\n    padding: '2em',\n    [theme.breakpoints.down('md')]: {\n      padding: '1em'\n    }\n  }\n}));\n\nconst HeroBar = ({ hasError }) => {\n  const history = useHistory();\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  return (\n    <Box className={classes.heroBar}>\n      {!hasError ? (\n        <Route path={['/qr-scan', '/display-results', '/faq', '/privacy']}>\n          <IconButton size=\"small\" onClick={() => history.push('/')}>\n            <img src={backIcon} alt=\"Back icon\" style={{ height: '3rem' }} />\n          </IconButton>\n        </Route>\n      ) : (\n        <></>\n      )}\n      <Container>\n        <Box display=\"flex\" alignItems=\"center\" flexDirection=\"column\">\n          <Typography variant=\"h3\" component=\"h2\" textAlign=\"center\" fontSize={{ xs: '1.3rem', sm: '3rem' }}>\n            {t('herobar.SMART Health Card Verifier')}\n          </Typography>\n        </Box>\n      </Container>\n    </Box>\n  );\n};\n\nexport default HeroBar;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAABpCAYAAACNiPs1AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAP6ADAAQAAAABAAAAaQAAAAAotvJjAAALOklEQVR4Ad1dC3BUVxk+527YAAlVoa3VjJ0qVqBDdlNSQdDagIUOCDKNdJHsJmQ3iq0oOLajVK3GEmegFWdKR3DKZDeP3YUuFYqUR3kl2rHYscE8ZIZOVeqD0VFJVRIg+7jH7w/ccBP2dXfP3ex6ZzL37Ln3fOf/zv+fc8/rP+Hs/+SqDAZvjcauflswtkAwcQ/n/M+MiTOCKc/2udx98WjyeJGFFlce8K7kKtsF0reNlR0EI/jb3O3yNKFAUDY3roInb/N71wohvKCk3KB1c4hztqvH6fmyvgCSJrgZIr9ibO3eL6ZDnKQWgn2pIuD1NgoxwrlgNW/3+x5VmdgBVkY5BGYWT1m71+GIjZRCfuk0uTS2dt9GVag7MyBOwM63hga2UMBoqVGacb3s/ubHVcF+lKUQKmdKlSVLkJwmB/FNIP6MhEw51F5SMOTxOfsuGq0fSiB+DYLzSQVB3u73bkar3iiNOAFxJoqkApoAVt7u3aIK8S3Z0GjsfpvX5MsDzduYKr4hmzjhCc4P5W1rX+5v3s4E+5oZxNHL+/UMa+mn8q7Oo27z/XffiW84W28Gccb5X7i1aEWHo6Y/r8yeup52f8sLGH00mEEcGn+HWYsW9TrqzhN+3mieiO8L+LwYmbnNIA6N/9FqLarqdtT9ScPPizr/SChkeSs80AaTr9EEk3mHxt/mVsvCHsfaC3rcce/bV3V0FJ0LDwTNIg6Nn5sgJjwwljgVwriSr3zzzQkXL5wPYYDi0GtEVhgaPztZmVjVVVv7t3iY42b2MHUrRlcvoY6viCdY9nG8x2qZ+GBXTc2/EmGNC/mqDt/E/gtiH0x9aSLBsomHxs+UWEsXn3Y4+pPh5Jz8/FBo0sDQwAH0sRYnEyzjZ5z/xlLCl3Q/7P53Koyc1nnbq20lg+FLh8wjzk5PZtYH0yFOBZMzzVeFQqX94YHDMPX7U2kkk+cw9demTJn22V+tXHkp3fQ5IT/P77/lMhs6ii7r/HQFM/Qe5538tqLlvQ/VDRpJZ7rZV+z3vfcKGzpuIvETpdbSZUaJUyGZSh6N21R1UJzEDMxcIxpJ912Y7dFpZXwFWvUr6abRv2ea2dPyUTh29QQaN7s+Q1lhTMIdLJt2xyNHli0byhTTFPK2fW23s8HISYzOZmcqWNJ0nO+3zrSt7rrvvkjS91I8lG72le3tHxCDkU4Tie+dVvZhR7bEqVykkreHWssiLNwJ3FkELvvC5yw401q6pnPhwqgMbGmTGZWhtjvDQ9FTEGq6DMHGYqCOt1U73e5GjvVYSZeUOl+x23eXGhMd6MDcJUmuUTBYXWmudtWvk0mcMsha85V7WqaHo2oHhqUfGiWxpB9YWv5pj7P+KzB5NCNyr6w0b9/T+jERiZ3CsLRMrljX0Th7vs/VsMEUbIBm3ODN2dM2S43EfmEacYX92EziVKAZkbftaZsdjUQ70YG5g0DkX3xrn7Phcfm4oxENk68I+CpYNNIBjd8+GkrOL4Xzpr5azyY5aMlRDNX58kBLJROxYxikTE0Om9lTEP9+j8vzdGapjadKe97eHmidy1T1OLJ4n/FsUqdQOHuyx9Ugbwk6dZbpLVpU7PYuUFXxKur4e9LANPwKiD8B4s8aTphlgpRmD1P/NEz9EEy9NMu84ibnCt/Y6/Rsj/vQ5Mik5G1B7yIWEwfRu5gsXQ50WtCBWQ/iO6VjpwmYsLXHguESprJXTCMu2LrxJE7lE1fz+Jwti6nqPjwvTrMQjbymoqvq6XV5Wo0kMuPdm8jb2ls+J7i6F311q+wMQTqmcGVtt7M+IBs7E7xRnzp7wFfNhBoCkAnEWRRDEye+43syEdSMNCOat7c3O7CRM4DJxqxHemMFRSYRrihf6HG6qSrlzTVMnkydcZXWzkZZghQpOQ/jc7aqt8Z9UAqeRBA+PNl4OXIWGr9VIu51KH6VcVGN0dkR+djZIxaJwehTgJFOHI3bFUXhK7trPNQlzsurCB+7+ei9Sb1Qly5zblneXbO2QyqwZDB0csQMyZjYCaJs6nHmN3HirODz87Zs8nACaLo32GrOoqREYRWY/RsS8a5BCXFLVI0eg1OAKcvRsuRVsBuxCXb6rizAEZzhUaA4gnmAhSNxeRZQaIuWIsSjKADJzR5aEyZKBIbDFUGfOVtQsizM4VFdT21DCOQ9wJK2GqLJhY7TpFhM/BwbiU3ZfKTlk8l9ZEjb53S3WBRLHQ0+MgFKnkZMxADyZVvQZ9K2s+S5J3o63L3VP4RXw2qYq9+0Pj5nqzFltV+f53iFbyJPgtiCLZ9nsdhuNAITZAuG2Zuo4EoNLG2vbGyjeCNmr0/YW1P/M2zIXoV2IKyPlxEmi+JC7C73+0zZZGxExria1wBMn9FRmLvX2dCm5Zfre1LyJAzN5QmmvkyttgnCqVyhubyGZhOwU0LGNXt9qh5X/TGs6C1HKV3Wx0sKo4vBd5FfrCQ8QzApNa+hmT1/j7m9DT0u9/Nafrm4p9S8JkSfs/6XFgt/CI3gf7U4mXc4Bm+3t/tMcSNLJGfa5Amge43ndW5hS/C5+k8iwGziVaZuKw/4pDsQJpIpbbPXA6AKYLUWi5ZCmLJoiYH2U31OT5M+TzPChjSvCYAq0GXhfBG6rBe1OKl3VWyGBTwtFTMOWEaa13DQUSlHh+WEWRsVGFe24KSTJ7X8ZN+zIk/C3Ov33hMV7KRZW1Qw0NqGpa0nZBMnvKzJE4itvX0G4+FT6Lp+kH7LvlAA21EAG6XjygKcE2r/aCQcOWXafjzGd6IfsB4FIW3SJaMGL16BnXHU/h5TYg9AuHfiPc82Du3KY/ag74VG3VEv2WJKMXu9EMN7cMPRDljAR/TxssIo3FbswfU0StiDK508kaTd1yIc68Bg6G5ZpPU4KIAg/N/r6KwbfbzRsDSz12dMk6Lkv4qu8Dl9vKwwCrWG/G/JDzcbTFPIk0Dkv0p+rNDS2WwETJgW/rf9F86/SP64Cd9J8cAUs9fnmQtfmxnFpatQBQzPOplOngqCvKwGwwPHYa5z9AUjKwzrOjK1jFd3LnRfNYKZE/IkEPnXxQYFtq6KjxsRMP13+fHS4tKVRtzMTKvzY4Um/1byc0Wf8vTYZ3J+i8Xkp0v+uuni5UzzmkCfPHBgyqVLFw+hCtyvxcm8owq8NhUelp0Ox0Aq3JyTJ4FIO+Kf0VdQBapSCZjZc/76ZG5d+obLlXTWKWdmrydBfq/k/4p+ADwuzbjEAvLfpXYmGfq4kCeBqGEiP1iY3tFkAmb6DCPMuWhgT9CXJhHGuJi9Xpilhw8XX+j/+0toA5br4+WFE5+dMe7kiST10sLnel9EG/CwPNI3kEDyd6xkwmd6q+v+cSM2QwcjPYCMMPnFkn8s2gBTFi8xATCb/HvJz1cv77jVeb0QFCb/WPKTpRHb2GeSfs8iP18acWp4eWH2mjB0b6Qzsvw+HyYv6vTx8sL8D0qxZfjEpLzRvEauEZMU1S63m/xntTi5dzFdDMXoHC6sveTpRcLZA94d+GSZs4jJlXV5S17TiVknItKxE3lPngrh2lmYTOoiJmz+r3lX5zWN6+/X/Gr5Vn1c9mH+bkGQJ6LkX0t+ttmTvoaAY2+7CsLs9YSxVe57OAf3B/o4o2GYfBRnv84rGM1rBMnRmPxutd8Z3bnS1FvrOVNwmtfIZnraObQ+8h8OCpY8FYIt4N0gVPGcViCp7iC+A//a4avoQg+v9xU0+esF8Bg6Qj/BiDApF3h4PQf31a/rC6jg6rxeeAqTPy5IrMHEaKIjH4fQVf7mWOKUNmlp0QuFcs0LBt9/Wb3yHVD6BDZKzEIP7jx9zooUZWtXjTvustn/AEXmxSD8H0KRAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/qr-code-illustration.732bf9a3.png\";","import React from 'react';\nimport {\n  Box, Button, Link, Typography, useTheme, useMediaQuery\n} from '@mui/material';\nimport { makeStyles } from '@mui/styles';\nimport { useHistory } from 'react-router-dom';\nimport checkIcon from 'assets/check-icon.png';\nimport qrIllustration from 'assets/qr-code-illustration.png';\nimport qrIcon from 'assets/qr-vaccine-icon.png';\nimport scanIcon from 'assets/scan-icon.png';\nimport { useTranslation, Trans } from 'react-i18next';\n\nconst useStyles = makeStyles((theme) => ({\n  landing: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: '8px',\n    [theme.breakpoints.down('md')]: {\n      flexDirection: 'column'\n    },\n    [theme.breakpoints.up('md')]: {\n      flexDirection: 'row'\n    }\n  },\n  boxqrillustration: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    maxWidth: '650px',\n    [theme.breakpoints.up('md')]: {\n      width: '650px'\n    }\n  },\n  logo: {\n    objectFit: 'contain',\n    height: '3.5em'\n  }\n}));\n\nconst Landing = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const singleCol = useMediaQuery(theme.breakpoints.down('md'));\n\n  const handleScan = () => {\n    history.push('qr-scan');\n  };\n\n  const BoxQrIllustration = () => (\n    <Box className={classes.boxqrillustration}>\n      <img src={qrIllustration} alt=\"Scan QR Code\" style={{ width: '100%', height: '100%' }} />\n    </Box>\n  );\n\n  return (\n    <Box className={classes.landing}>\n      {!singleCol && BoxQrIllustration()}\n      <Box display=\"flex\" flexDirection=\"column\" sx={{ maxWidth: '750px' }} width=\"100%\" alignItems=\"center\">\n        <Box display=\"flex\" flexDirection=\"row\">\n          <img src={qrIcon} alt=\"QR Vaccine Icon\" style={{ height: '5rem' }} />\n          <Typography variant=\"h6\" style={{ marginTop: '5px', marginLeft: '25px' }}>\n            <Trans\n              i18nKey=\"landing.Verify a SMART Health Card QR code in a safe and privacy-preserving way.\"\n              components={[<Link href=\"https://smarthealth.cards/\" color=\"secondary\" target=\"_blank\" rel=\"noopener\" />]}\n            />\n          </Typography>\n        </Box>\n        {singleCol && BoxQrIllustration()}\n        <Box width=\"inherit\" mt={{ xs: 4, md: 10 }}>\n          <Button\n            type=\"button\"\n            fullWidth\n            size=\"large\"\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={handleScan}\n            style={{ fontSize: '150%' }}\n          >\n            <img src={scanIcon} alt=\"Scan Icon\" style={{ height: '2.5rem', marginRight: '10px' }} />\n            {t('landing.SCAN QR CODE')}\n          </Button>\n        </Box>\n        <Box width=\"inherit\" mt={{ xs: 4, md: 10 }}>\n          <Typography variant=\"h6\">{t('landing.What is a SMART Health Card?')}</Typography>\n          <Typography>\n            <img src={checkIcon} alt=\"Check Icon\" style={{ height: '1rem', marginRight: '10px' }} />\n            {t('landing.Holds important vaccination or lab report data.')}\n          </Typography>\n          <Typography>\n            <img src={checkIcon} alt=\"Check Icon\" style={{ height: '1rem', marginRight: '10px' }} />\n            {t('landing.Can be scanned to verify that the information has not been tampered with.')}\n          </Typography>\n        </Box>\n        <Box width=\"inherit\" mt={{ xs: 2, md: 5 }}>\n          <Typography>\n            <Trans\n              i18nKey=\"landing.For more information on SMART Health Cards, please visit\"\n              values={{ url: 'https://smarthealth.cards/' }}\n              components={[\n                <Link href=\"https://smarthealth.cards/\" color=\"secondary\" target=\"_blank\" rel=\"noopener\">\n                  https://smarthealth.cards/\n                </Link>\n              ]}\n            />\n          </Typography>\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Landing;\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { makeStyles } from '@mui/styles';\nimport {\n  AppBar, Box, Container, Toolbar, IconButton, Menu, MenuItem, Button, Typography\n} from '@mui/material';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport EmailIcon from '@mui/icons-material/Email';\nimport { useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport logo from 'assets/mitre-logo.svg';\n\nconst useStyles = makeStyles((theme) => ({\n  footer: {\n    color: theme.palette.primary.main,\n    backgroundColor: theme.palette.common.grayLight,\n    position: 'static',\n    marginTop: '2em'\n  },\n  link: {\n    fontWeight: 700\n  },\n  logo: {\n    objectFit: 'contain',\n    height: '3.5em'\n  }\n}));\n\nconst pages = ['FAQ', 'Privacy'];\n\nconst Footer = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { t } = useTranslation();\n  const [anchorElNav, setAnchorElNav] = React.useState(null);\n\n  const handleOpenNavMenu = (event) => {\n    setAnchorElNav(event.currentTarget);\n  };\n\n  const handleCloseNavMenu = (page) => {\n    setAnchorElNav(null);\n    if (page !== null) history.push(`/${page}`);\n  };\n\n  return (\n    <AppBar className={classes.footer}>\n      <Container maxWidth=\"xl\">\n        <Toolbar disableGutters>\n          <Box sx={{ flexGrow: 1, display: { xs: 'flex', md: 'none' } }}>\n            <IconButton\n              size=\"large\"\n              aria-label=\"menu\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleOpenNavMenu}\n              color=\"inherit\"\n            >\n              <MenuIcon />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorElNav}\n              anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left'\n              }}\n              keepMounted\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'left'\n              }}\n              open={Boolean(anchorElNav)}\n              onClose={() => handleCloseNavMenu(null)}\n              sx={{\n                display: { xs: 'block', md: 'none' }\n              }}\n            >\n              {pages.map((page) => (\n                <MenuItem key={page} onClick={() => handleCloseNavMenu(page)}>\n                  <Typography textAlign=\"center\">{t(`footer.${page}`)}</Typography>\n                </MenuItem>\n              ))}\n            </Menu>\n          </Box>\n          <Box sx={{ flexGrow: { xs: 1, md: 0 } }}>\n            <img\n              src={logo}\n              alt=\"Placeholder Mitre logo\"\n              style={{ width: '100px' }}\n              sx={{ flexGrow: 1, display: { xs: 'flex', md: 'none' } }}\n            />\n          </Box>\n          <Box sx={{ flexGrow: 1, display: { xs: 'none', md: 'flex' } }}>\n            {pages.map((page) => (\n              <Button key={page} onClick={() => handleCloseNavMenu(page)} sx={{ my: 2, display: 'block' }}>\n                {t(`footer.${page}`)}\n              </Button>\n            ))}\n          </Box>\n          <Box>\n            <IconButton\n              size=\"large\"\n              aria-label=\"contact\"\n              color=\"inherit\"\n              target=\"_top\"\n              rel=\"noopener noreferrer\"\n              href=\"mailto:vci-developers@mitre.org\"\n            >\n              <EmailIcon />\n              <Typography\n                variant=\"button\"\n                style={{ fontSize: '0.69rem' }}\n                sx={{ flexGrow: 1, display: { xs: 'none', md: 'flex' } }}\n              >\n                vci-developers@mitre.org\n              </Typography>\n            </IconButton>\n          </Box>\n        </Toolbar>\n      </Container>\n    </AppBar>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\nimport {\n  Box, Accordion, AccordionSummary, AccordionDetails, Typography\n} from '@mui/material';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport { makeStyles } from '@mui/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles((theme) => ({\n  faq: {\n    color: theme.palette.primary.main,\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  box: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    padding: '8px'\n  }\n}));\n\nconst FAQ = () => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  return (\n    <Box className={classes.faq}>\n      <Box className={classes.box} sx={{ maxWidth: '750px' }}>\n        <Typography variant=\"h6\">{t('faq.Frequently asked questions')}</Typography>\n        {t('faq.items', { returnObjects: true }).map((item, i) => (\n          // eslint-disable-next-line react/no-array-index-key\n          <Accordion key={i}>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\n              <Typography>{item.question}</Typography>\n            </AccordionSummary>\n            <AccordionDetails>\n              <Typography\n                dangerouslySetInnerHTML={{\n                  __html: item.answer\n                }}\n              />\n            </AccordionDetails>\n          </Accordion>\n        ))}\n      </Box>\n    </Box>\n  );\n};\n\nexport default FAQ;\n","import React from 'react';\nimport { Box, Typography } from '@mui/material';\nimport { makeStyles } from '@mui/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles((theme) => ({\n  staticDisplay: {\n    color: theme.palette.primary.main,\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  box: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    padding: '8px'\n  }\n}));\n\nconst StaticDisplay = ({ section }) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  return (\n    <Box className={classes.staticDisplay}>\n      <Box className={classes.box} sx={{ maxWidth: '750px' }}>\n        <Typography variant=\"h6\">{t(`${section}.title`)}</Typography>\n        {t(`${section}.items`, { returnObjects: true, interpolation: { escapeValue: false } }).map((item, i) => (\n          // eslint-disable-next-line react/no-array-index-key\n          <div key={i}>\n            <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\n              {item.header}\n            </Typography>\n            <Typography\n              variant=\"body1\"\n              gutterBottom\n              dangerouslySetInnerHTML={{\n                __html: item.content\n              }}\n            />\n          </div>\n        ))}\n      </Box>\n    </Box>\n  );\n};\n\nexport default StaticDisplay;\n","export default __webpack_public_path__ + \"static/media/frame.b05edd9c.png\";","import QrScanner from 'qr-scanner';\n\nconst cameraPermission = async () => {\n  if (window.cordova) {\n    if (window.cordova.platformId === 'android' || window.cordova.platformId === 'ios') {\n      if (window.cordova.platformId === 'ios') {\n        window.cordova.plugins.iosrtc.registerGlobals();\n      }\n      const { diagnostic } = window.cordova.plugins;\n      diagnostic.enableDebug();\n      return new Promise((resolve, reject) => {\n        diagnostic.getCameraAuthorizationStatus(\n          (status) => {\n            if (status === diagnostic.permissionStatus.GRANTED\n              || status === diagnostic.permissionStatus.GRANTED_WHEN_IN_USE) {\n              resolve(true);\n            } else if (status === diagnostic.permissionStatus.DENIED_ALWAYS\n              || status === diagnostic.permissionStatus.RESTRICTED) {\n              resolve(false);\n            } else {\n              diagnostic.requestCameraAuthorization(\n                (requestedStatus) => {\n                  if (requestedStatus === diagnostic.permissionStatus.GRANTED\n                    || requestedStatus === diagnostic.permissionStatus.GRANTED_WHEN_IN_USE) {\n                    resolve(true);\n                  } else {\n                    resolve(false);\n                  }\n                },\n                (requestedError) => {\n                  reject(requestedError);\n                },\n                false\n              );\n            }\n          },\n          (error) => {\n            reject(error);\n          },\n          false\n        );\n      });\n    }\n  }\n  return Promise.resolve(true);\n};\n\nconst hasMultipleCameras = async () => {\n  const cameras = await QrScanner.listCameras(true);\n  if (cameras.length > 1) return true;\n  return false;\n}\n\nconst switchCamera = async (currentDeviceId) => {\n  const cameras = await QrScanner.listCameras();\n  let nextDeviceId = null;\n  if (cameras.length > 1) {\n    if (!currentDeviceId) {\n      nextDeviceId = cameras[1].id; // assume initialized with camera[0]\n    } else {\n      cameras.forEach((camera, idx) => {\n        if (camera.id === currentDeviceId) {\n          nextDeviceId = (idx === (cameras.length - 1))\n            ? cameras[0].id : cameras[idx + 1].id;\n        }\n      })\n    }\n  }\n  return nextDeviceId;\n}\n\nexport { cameraPermission, hasMultipleCameras, switchCamera };\n","/* eslint-disable no-console */\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Box, Typography, Button } from '@mui/material';\nimport { useTranslation } from 'react-i18next';\nimport HeroBar from 'components/HeroBar';\n\nconst resetErrorHandler = () => {\n  localStorage.clear();\n};\n\nconst ErrorFallback = ({ resetErrorBoundary }) => {\n  const history = useHistory();\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <HeroBar hasError />\n      <Box display=\"flex\" width=\"100%\" flexDirection=\"column\" alignItems=\"center\" marginTop=\"2em\">\n        <Box sx={{ maxWidth: '750px' }}>\n          <Typography variant=\"h6\">{t('error.An unexpected error occurred.')}</Typography>\n          <Button\n            type=\"button\"\n            onClick={() => {\n              resetErrorHandler();\n              resetErrorBoundary();\n              history.push('/');\n            }}\n          >\n            {t('error.Return to main page.')}\n          </Button>\n        </Box>\n      </Box>\n    </>\n  );\n};\n\nexport { ErrorFallback, resetErrorHandler };\n","import './App.css';\n\nimport React from 'react';\nimport { CssBaseline } from '@mui/material';\nimport {\n  HashRouter as Router, Redirect, Route, Switch\n} from 'react-router-dom';\nimport HealthCardDisplay from 'components/HealthCardDisplay';\nimport ThemeProvider from 'components/ThemeProvider';\nimport Header from 'components/Header';\nimport HeroBar from 'components/HeroBar';\nimport Landing from 'components/Landing';\nimport Footer from 'components/Footer';\nimport FAQ from 'components/FAQ';\nimport StaticDisplay from 'components/StaticDisplay';\nimport QrScan from 'components/QrScan';\nimport { QrDataProvider } from 'components/QrDataProvider';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { ErrorFallback } from 'utils/errorHelper';\n\nconst App = () => (\n  <ThemeProvider>\n    <CssBaseline />\n    <Header />\n    <Router>\n      <div id=\"content\">\n        <ErrorBoundary FallbackComponent={ErrorFallback}>\n          <HeroBar hasError={false} />\n          <Switch>\n            <Redirect exact from=\"/shc-web-verifier\" to=\"/\" />\n            <Route exact path=\"/\">\n              <Landing />\n            </Route>\n\n            <Route exact path=\"/faq\">\n              <FAQ />\n            </Route>\n\n            <Route exact path=\"/privacy\">\n              <StaticDisplay section=\"privacy\" />\n            </Route>\n\n            <QrDataProvider>\n              <Route exact path=\"/qr-scan\">\n                <QrScan />\n              </Route>\n\n              <Route exact path=\"/display-results\">\n                <HealthCardDisplay />\n              </Route>\n            </QrDataProvider>\n          </Switch>\n        </ErrorBoundary>\n      </div>\n      <Footer />\n    </Router>\n  </ThemeProvider>\n);\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import i18n from 'i18next';\nimport Backend from 'i18next-http-backend';\nimport ChainedBackend from 'i18next-chained-backend';\nimport resourcesToBackend from 'i18next-resources-to-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\nimport translationEN from 'shc-web-verifier-locales/en/translation.json';\n\nconst bundledResources = { en: { translation: translationEN } };\n\ni18n\n  // load translation using http -> see /public/locales\n  .use(ChainedBackend)\n  // detect user language\n  .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  .init({\n    supportedLngs: ['en'],\n    fallbackLng: 'en',\n    debug: true,\n\n    interpolation: {\n      escapeValue: false // not needed for react as it escapes by default\n    },\n    backend: {\n      backends: [Backend, resourcesToBackend(bundledResources)],\n      backendOptions: [\n        {\n          loadPath: `${process.env.PUBLIC_URL}/locales/{{lng}}/{{ns}}.json`\n        }\n      ]\n    }\n  });\n\nexport default i18n;\n","import React, { Suspense } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from 'components/App';\nimport reportWebVitals from './reportWebVitals';\nimport './i18n';\n\nconst renderReactDom = () => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <Suspense fallback={<p>Loading...</p>}>\n        <App />\n      </Suspense>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n};\n\nif (window.cordova) {\n  document.addEventListener(\n    'deviceready',\n    () => {\n      renderReactDom();\n    },\n    false\n  );\n} else {\n  renderReactDom();\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}